"use strict";var kc=kc||{};kc.Cache={enable:!0,files:{},add:function(e,t){var r=this,s=!1;return!1!==r.enable&&(r.files[e]=t,s=!0),s},get:function(e){return _this.files[e]}};var lc=lc||{};!function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;lc.Class=function(){},lc.Class.extend=function(r){function s(){!e&&this.init&&this.init.apply(this,arguments)}var a=this.prototype;e=!0;var o=new this;e=!1;for(var c in r)o[c]="function"==typeof r[c]&&"function"==typeof a[c]&&t.test(r[c])?function(e,t){return function(){var r=this._super;this._super=a[e];var s=t.apply(this,arguments);return this._super=r,s}}(c,r[c]):r[c];return s.prototype=o,s.prototype.constructor=s,s.extend=lc.Class.extend,s}}();var lc=lc||{};lc.Core={launch:function(e,t,r){lc.EngineStart(e,t,r,function(){var e=lc.Project.getProjectData(),t=e.ResourceText.projectSetting.defaultSceneID,r=lc.Project.getResourceBySceneId(t);console.log(r)})}};var lc=lc||{};lc.LoaderBase=lc.Class.extend({times:5,init:function(){},load:function(e,t,r){var s=this,a=lc.Cache.get(e);if(a)return t&&t(cached),a;s.tryLoad(e,t,r,times)},tryLoad:function(e,t,r,s){}}),lc.ImageLoader=lc.LoaderBase.extend({init:function(){this._super()},tryLoad:function(e,t,r,s){var a=this,o=new Image;o.addEventListener("load",function(){lc.Cache.add(e,this),t&&t(this)},!1),o.addEventListener("error",function(){s<a.times?a.tryLoad(e,t,r,s++):(r&&r(event),t&&t())},!1),o.src=e}}),lc.Loader={load:function(e,t){}};var lc=lc||{};lc.Object={};var lc=lc||{};lc.Project={_projectData:null,_resource:null,prepare:function(e){var t=this,r=lc.Util.getXMLHttpRequest(),s=null;s="pid=fe1bf410-2965-11e7-ab3f-cba729ac7ef0",r.open("POST","http://10.57.220.76:12000/op//gf/webapi/ReadProject_Preview"),r.setRequestHeader("Content-Type","application/x-www-form-urlencodeed;charset=UTF-8");r.onreadystatechange=function(){if(4==r.readyState&&(200==r.status||0==r.status)){var s=r.responseText||'{"state":"ok","projectinfo":{"name":"userInterface","owner":"24289509306817014","ProjectText":{"version":0.91,"editorVersion":2,"owner":"24289509306817014","users":[],"project":"","name":"userInterface","ptype":0,"structure":{"sences":{},"objects":{}},"packages":{"base":["Base"],"extra":[]}},"ResourceText":{"version":0.91,"curranimationId":200000,"currresId":300001,"currprototypeId":400000,"currlogicId":500002,"currsceneId":600000,"currScene":600000,"currmapId":700000,"currparticleId":800000,"currvariableId":1000000,"currloadingId":2000000,"wraperId":0,"owner":"24289509306817014","project":"","name":"userInterface","resolution":{"adapterMode":"2","width":"640","height":"1136"},"logicPlugin":[],"structure":{"currentTabs":[{"id":"page1","path":"/素材","title":"素材","state":true},{"id":"page2","path":"/动画","title":"动画","state":true},{"id":"page3","path":"/逻辑","title":"逻辑","state":true},{"id":"page4","path":"/原型","title":"原型","state":true},{"id":"page5","path":"/场景","title":"场景","state":true},{"id":"page6","path":"/地图","title":"地图","state":true},{"id":"page7","path":"/数据","title":"数据","state":true}],"resources":{"/":{"d":["素材","动画","逻辑","原型","场景","地图","数据"],"f":[]},"/素材":{"d":["图片","影音","数据"],"f":[]},"/素材/图片":{"d":[],"f":[300001]},"/素材/影音":{"d":[],"f":[]},"/素材/数据":{"d":[],"f":[]},"/动画":{"d":[],"f":[]},"/逻辑":{"d":[],"f":[500001,500002]},"/原型":{"d":[],"f":[]},"/场景":{"d":[],"f":["600000"]},"/地图":{"d":[],"f":[]},"/数据":{"d":[],"f":[]}}},"origin":{"resources":{"300001":{"resType":"image","resURL":"/images/e86307d2be74cffb5e565f2867be4502.png","size":11264,"width":357,"height":103},"500001":{"resType":"logic","data":{"data":[[{"argu":["2","200000","360",false],"block":[[]],"pos":{"left":78,"top":158},"type":"ac-runRotates","resources":[]},{"argu":["1",100000,"2",false],"block":[[{"argu":["1","200000","1",false],"block":[[]],"pos":{},"type":"ac-runScales","resources":[]}]],"pos":{"left":78,"top":158},"type":"ac-runScales","resources":[]}]],"local":[]},"md5":"7ae23c1ebdbd58530791b95a9ae06def"},"500002":{"resType":"logic","data":{"data":[[{"argu":["2","320","850",null],"block":[[]],"pos":{"left":46,"top":240},"type":"ac-runEaseInOutMoving","resources":[]}]],"local":[]},"md5":"5def5d700efbaf590ef0a929cf02f61d"},"600000":{"resType":"scene","data":{"gameSetting":[{"id":"b00f220b-89e7-4254-be90-2bc639956574","child":[]}],"instance":{"b00f220b-89e7-4254-be90-2bc639956574":{"components":{"Transform":[{"propertys":{"objectName":"Logo","transform":{"Position":{"x":"320.00","y":"568.00","z":"0.00"},"Scale":{"x":"1.00","y":"1.00"},"Rotation":{"x":"0.00","y":0}},"alpha":100,"group":"默认"},"id":1,"enabled":true}],"Texture":[{"propertys":{"file":{"id":"300001","name":"logo.png"},"blendFunc":0},"id":2,"enabled":true}]},"wraperName":"Logo","lockState":0,"resources":[{"number":1,"resId":"300001"},{"number":1,"resId":"500001"}]}},"arInstance":{}}}}},"projectSetting":{"gameEngine":"crafty","defaultSceneID":"600000","resolution":{"adapterMode":"2","width":"640","height":"1136"},"id":"75067a90-2fe3-11e7-821f-d36a32f88b9c","owner":"24289509306817014"}},"FrameworkVersion":"2.1","Type":"1","version":{"oldVersion":0.91,"version":0.91}}}',a=JSON.parse(s);"ok"==a.state&&(t._projectData=a.projectinfo,t._resources=a.projectinfo.ResourceText.origin.resources),e&&e()}},r.send(s)},getProjectData:function(){return this._projectData},getResourceForKey:function(e){return this._resource[e]},getResourceInstance:function(e,t){var r=[];for(var s in t){var a=t[s];if(a.resources)for(var o in a.resources){var c=a.resources[o].resId?a.resources[o].resId:a.resources[o],n=e[c];if(n)if("logic"===n.resType){var i=APIRoot+"gf/sdk/GenJs?userid="+USERID+"&projectid="+(PROJECTID||"")+"&instance="+c;r.push({type:"script",url:i})}else if("image"===n.resType)r.push({type:"image",url:ResRoot+n.resURL.substr(1)});else if("audio"===n.resType)r.push({type:"audio",url:ResRoot+n.resURL.substr(1)});else if("fnt"===n.resType)r.push({type:"fnt",url:ResRoot+n.resURL.substr(1)});else if("applciation"===n.resType)r.push({type:"application",url:ResRoot+n.resURL.substr(1)});else if("map"===n.resTYpe){var u=n.data.mapBlock;for(var l in u){var p=u[l];r.push({type:"image",url:ResRoot+p.src.substr(1)})}}}}return r},getResourceBySceneId:function(e){var t=this,r=[],s=t._resources,a=s[e];if(a){var o=a.data.instance;r=t.getResourceInstance(s,o)}return r}};var lc=lc||{};lc.Util={getXMLHttpRequest:function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")}};